{% import 'macros/form.html' as form %}

{% set publisher_rows = h.ogdch_publisher_form_helper(data) %}

{%- for row in publisher_rows -%}
  {% if loop.first %}
    {%- snippet 'scheming/form_snippets/publishers_help_text.html',
      field=field -%}
  {%  endif %}
  {% call form.input(
    'publisher-' + row.index,
    id='field-publishers-' + row.index,
    label=row.get('label'),
    placeholder=_('Name of the Publisher'),
    value=row.data,
    error=errors['publishers'],
    classes=['control-full', row.css_class]
    ) %}
  {% endcall %}
{%- endfor -%}

<a data-module="ogdch_form_helper_add_rows"
      id="ogdch_publishers_add_row"
      class="btn btn-default"
      href="#ogdch_publishers_pagemark">
{{ _('Add another publisher') }}
</a>
